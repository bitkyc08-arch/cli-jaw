# Phase 4.2: Sub-Agent (Employee) UI

## claw-lite에서 포팅

### DB

```sql
CREATE TABLE employees (
    id          TEXT PRIMARY KEY,
    name        TEXT DEFAULT 'New Agent',
    cli         TEXT DEFAULT 'claude',
    model       TEXT DEFAULT 'default',
    role        TEXT DEFAULT '',
    status      TEXT DEFAULT 'idle',
    created_at  DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

### API

| Method | Path                 | 역할                                  |
| ------ | -------------------- | ------------------------------------- |
| GET    | `/api/employees`     | 전체 조회                             |
| POST   | `/api/employees`     | 추가 (기본값)                         |
| PUT    | `/api/employees/:id` | 수정 (name, cli, model, role, status) |
| DELETE | `/api/employees/:id` | 삭제                                  |

### UI (🤖 Agents 탭)

```
🤖 Agents | ⚙ Config | 🔧 Settings
────────────────────────────────
SUB AGENTS                [+ Add]

┌─ 🤖 프론트엔드 개발자 ─── ✕ ─┐
│  CLI: claude  Model: sonnet   │
│  Role: [🎨 프론트엔드 ▾]     │
│  ● idle                       │
└───────────────────────────────┘

┌─ 🤖 백엔드 개발자 ──── ✕ ────┐
│  CLI: codex   Model: gpt-5.3 │
│  Role: [⚙️ 백엔드 ▾]         │
│  ● idle                       │
└───────────────────────────────┘
```

### Role Presets (8개)

| Preset       | Prompt                             |
| ------------ | ---------------------------------- |
| 🎨 프론트엔드 | React/Vue 기반 UI 컴포넌트 개발    |
| ⚙️ 백엔드     | API 서버, DB 스키마, 비즈니스 로직 |
| 🔄 풀스택     | 프론트+백 모두                     |
| 🚀 DevOps     | CI/CD, Docker, 인프라              |
| 🧪 QA         | 테스트, 버그 재현                  |
| 📊 데이터     | 파이프라인, ETL, 분석              |
| 📝 테크라이터 | 문서화, README                     |
| ✏️ 커스텀     | 직접 입력                          |

### WebSocket 실시간 동기화

`agent_added`, `agent_updated`, `agent_deleted` → `loadEmployees()`

## 체크리스트

- [x] employees DB 테이블
- [x] CRUD API (GET/POST/PUT/DELETE)
- [x] 🤖 Agents 탭 (세 번째 탭)
- [x] MODEL_MAP + ROLE_PRESETS
- [x] 동적 Agent 카드 (이름, CLI, 모델, 역할, 상태)
- [x] CLI 변경 시 모델 드롭다운 갱신
- [x] 커스텀 역할 textarea 토글
- [x] WebSocket 실시간 동기화
- [ ] 실제 오케스트레이션 (MVP-6에서 구현)
