# 12.1.6 /skill 설치 시스템

> `/skill install <name>` — 스킬 마켓에서 다운로드 + `~/.cli-claw/skills/`에 설치

---

## 현재 상태

```
postinstall
  └─ copyDefaultSkills()
       └─ ~/.codex/skills/ (28개) → ~/.cli-claw/skills/ 복사

symlinks:
  ~/.cli-claw/skills/           ← 물리 디렉토리 (원본)
  {workingDir}/.agents/skills → ~/.cli-claw/skills/
  ~/.agents/skills            → ~/.cli-claw/skills/
  ~/.agent/skills             → ~/.agents/skills
```

## 설계

### /skill CLI 명령어

```bash
cli-claw skill                      # 설치된 스킬 목록
cli-claw skill install <name>       # GitHub에서 스킬 다운로드
cli-claw skill remove <name>        # 스킬 삭제
cli-claw skill info <name>          # 스킬 상세 (SKILL.md 읽기)
```

### /skill 채팅 명령어

```bash
/skill                              # 스킬 목록
/skill install <name>               # 설치
```

### 스킬 소스

| 소스        | 형식                                   | 예시                         |
| ----------- | -------------------------------------- | ---------------------------- |
| Codex 내장  | postinstall 복사                       | `~/.codex/skills/playwright` |
| GitHub repo | `owner/repo/skills/name`               | `openai/codex/skills/doc`    |
| 직접 생성   | `~/.cli-claw/skills/my-skill/SKILL.md` | 사용자 커스텀                |

### 스킬 구조

```
~/.cli-claw/skills/{name}/
├── SKILL.md        ← 필수 (name, description, instructions)
├── scripts/        ← 선택 (실행 스크립트)
├── examples/       ← 선택 (참고자료)
└── resources/      ← 선택 (추가 파일)
```

### 설치 흐름

```
cli-claw skill install playwright
  │
  ├─ 1. 로컬 소스 검색
  │     ~/.codex/skills/playwright 있으면 → 복사
  │
  ├─ 2. GitHub 소스 (없으면)
  │     GET https://api.github.com/repos/openai/codex/contents/codex-cli/skills/playwright
  │     → 파일 목록 → 다운로드 → ~/.cli-claw/skills/playwright/
  │
  └─ 3. 확인
        SKILL.md 존재 검증 → 설치 완료 메시지
```

## 구현 파일

| 파일                    | 변경                                        |
| ----------------------- | ------------------------------------------- |
| `bin/commands/skill.js` | **[NEW]** install/list/remove/info 서브명령 |
| `bin/cli-claw.js`       | `skill` 케이스 추가                         |
| `lib/skill-manager.js`  | **[NEW]** 스킬 설치/삭제/조회 로직          |
| `bin/commands/chat.js`  | `/skill` 채팅 명령                          |
| `server.js`             | `GET/POST /api/skills` 엔드포인트           |
| `public/index.html`     | Settings → Skills 섹션                      |

## 체크리스트

- [ ] `lib/skill-manager.js` — listSkills, installSkill, removeSkill, getSkillInfo
- [ ] `bin/commands/skill.js` — CLI 서브명령
- [ ] `bin/cli-claw.js` — skill 등록
- [ ] `bin/commands/chat.js` — /skill 채팅 명령
- [ ] `server.js` — API 엔드포인트
- [ ] `public/index.html` — Skills UI 섹션
