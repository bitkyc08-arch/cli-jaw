# Phase 4.1: Settings Tab + CLI Status

## ì™„ë£Œ

- [x] ìš°ì¸¡ ì‚¬ì´ë“œë°” íƒ­ êµ¬ì¡° (âš™ Config / ğŸ”§ Settings)
- [x] Config íƒ­: Active CLI, Permissions, Working Directory
- [x] Settings íƒ­: per-CLI model/effort ë“œë¡­ë‹¤ìš´
- [x] `settings.json`ì— `perCli` êµ¬ì¡° ì¶”ê°€
- [x] CLI Status ê¸°ë³¸ í‘œì‹œ (ğŸŸ¢/ğŸ”´ ì„¤ì¹˜ ì—¬ë¶€ + path)

## ê³„íš â€” claw-liteì—ì„œ í¬íŒ…

### CLI Quota (claw-lite server.js:591-685)

| í•¨ìˆ˜                      | ì†ŒìŠ¤                                              | ì—­í•                    |
| ------------------------- | ------------------------------------------------- | ---------------------- |
| `readClaudeCreds()`       | macOS keychain (`security find-generic-password`) | Claude OAuth í† í° ì½ê¸° |
| `readCodexTokens()`       | `~/.codex/auth.json`                              | Codex ì•¡ì„¸ìŠ¤ í† í° ì½ê¸° |
| `fetchClaudeUsage(creds)` | `api.anthropic.com/api/oauth/usage`               | 5h/7d ì¿¼í„° %           |
| `fetchCodexUsage(tokens)` | `chatgpt.com/backend-api/wham/usage`              | 5h/7d ì¿¼í„° %           |
| Gemini account            | `~/.gemini/oauth_creds.json` (JWT decode)         | ì´ë©”ì¼ë§Œ               |
| `GET /api/quota`          | ìœ„ 4ê°œ ë³‘ë ¬ í˜¸ì¶œ                                  | ì „ì²´ ì¿¼í„° JSON         |

### UI ë³€ê²½ (index.html Settings íƒ­)

```
CLI STATUS (í˜„ì¬ ğŸŸ¢/ğŸ”´ dotë§Œ)
    â†“ í¬íŒ… í›„
CLI STATUS (claw-liteì™€ ë™ì¼)
â”œâ”€â”€ ğŸŸ£ claude
â”‚   â”œâ”€â”€ pro Â· default_claude_ai
â”‚   â”œâ”€â”€ 5-hour â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ 17%
â”‚   â””â”€â”€ 7-day  â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  2%
â”œâ”€â”€ ğŸŸ¢ codex
â”‚   â”œâ”€â”€ kugpt01@gmail.com Â· pro
â”‚   â”œâ”€â”€ 5-hour â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  4%
â”‚   â””â”€â”€ 7-day  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  2%
â”œâ”€â”€ ğŸ”µ gemini
â”‚   â””â”€â”€ bitcpa02@gmail.com
â”œâ”€â”€ ğŸŸ  opencode
â”‚   â””â”€â”€ (no quota API)
â””â”€â”€ [ğŸ”„ Refresh Quota]
```

### buildArgs perCli ì—°ë™

`buildArgs()`ì—ì„œ `settings.perCli[cli]`ì˜ model/effort ì‚¬ìš©:

```javascript
function buildArgs(cli, session) {
    const cfg = settings.perCli?.[cli] || {};
    const model = cfg.model || 'default';
    const effort = cfg.effort || 'medium';
    // ...
}
```

## ì²´í¬ë¦¬ìŠ¤íŠ¸

- [x] íƒ­ UI (Config / Settings)
- [x] Per-CLI model/effort ë“œë¡­ë‹¤ìš´
- [ ] **readClaudeCreds()** í¬íŒ…
- [ ] **readCodexTokens()** í¬íŒ…
- [ ] **fetchClaudeUsage()** í¬íŒ…
- [ ] **fetchCodexUsage()** í¬íŒ…
- [ ] **Gemini account** (JWT decode) í¬íŒ…
- [ ] **GET /api/quota** ì—”ë“œí¬ì¸íŠ¸
- [ ] UI: ì¿¼í„° ì§„í–‰ë°” + ê³„ì • ì •ë³´
- [ ] UI: Refresh Quota ë²„íŠ¼
- [ ] **buildArgs** perCli ì—°ë™
